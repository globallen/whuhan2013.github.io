---
layout: post
title: 阈值分割与区域分割
date: 2017-1-1
categories: blog
tags: [图像处理]
description: 图像分割
---


**本文主要包括以下内容**    

- 阈值分割技术
- 基于区域的图像分割技术
- 本章的典型案例
	+ 基于LoG和Canny算子的精确边缘检测
	+ 基于Hough变换的直线检测
	+ 图像的四叉树分解

### 阈值分割     
我们曾在3.5节学习过灰度阈值变换的相关知识， 利用灰度阈值变换分割图像就称为阈值分割， 它是一种基本的图像分割方法。       
阙值分割的基本思想是确定一个阈值， 然后把每个像素点的灰度值和阈值相比较，根据比较的结果把该像素划分为两类：前景或者背景，阈值分割可以分成以下3步：      

- 确定阈值．
- 将阈值和像素比较，．
- 把像素归类  

其中第1步阈值最重要。阈值的选择将直接影响分割的准确性以及由此产生的图像描述，分析的正确性。

#### 阈值分割方法
阈值分割常用的方法一般有以下几种。      

**实验法**       
实验法是通过人眼的观察， 对已知某些特征的图像， 只要试验不同的阈值， 然后看是否满足已知特征即可。这种方法的不足在于适用范围窄，
使用前必须了解图像的某些特征， 譬如平均灰度等，而且分割后图像质量的好坏受主观局限性很大。      

**根据直方图谷底确定阈值**        
如果图像的前景物体内部和背景区域的灰度值分布都比较均匀， 那么这个图像的灰度直方图将具有明显双峰， 此时可以选择两峰之间的谷底作为阈值。
其表达式为：        
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter92/p1.png)  
注意：由于直方图是各灰度的像素统计，其峰值和谷底特性不一定代表目标和背景．因此，如果没有图像其他方面的知识，只靠直方图进行图像分割不一定准确 ．

**迭代选择阈值法**        
迭代式阈值选择方法的基本思想是：开始选择一个阈值作为初始估计值，然后按照某种规则不断地更新这一估计值，直到满足给定的条件为止。这个过程的关键在于选择怎么样的 迭代规则。一个好的迭代规则必须既能够快速收敛，又能够在每一个迭代过程中产生优于上次迭代的结果。下面是一种迭代选择阈值算法：     
(1)选择一个T的初始估计值。      
(2)利用阈值T把图像分为两个区域R1, 和R2       
(3)对区域R1和R2中的所有像素计算平均灰度值μ1和μ2         
(4)计算新的阈值：      
$$T=\frac{1}{2}(u_1+u_2)$$        
(5)重复步骤2-4, 直到逐次迭代所得的T值小于事先定义的参数T。        

**最小均方误差法**       
最小均方误差法也是常用的阈值分割法之一。这种方法通常以图像中的灰度为模式特征，假设各模式的灰度是独立分布的随机变量，并假设图像中待分割的模式服从一定的概率分布。一般来说，采用的是正态分布，即高斯概率分布。       
首先假设一幅图像仅包含两个主要的灰度区域前景和背景。令z表示灰度值，p(z)表示灰度值概率密度函数的估计值。假设概率密度函数一个对应于背景的灰度值，另一个对应于图像中前景即对象的灰度值。则描述图像中整体灰度变换的混合密度函数是：             
$$p(z) = P_1p_1(z) + P_2p_2(z)$$        
其中$P_1$是前景中具有值z的像素出现的概率，$P_2$是背景中具有值z的像素出现的概率，两者的关系为：         
$$P_1+P_2=1$$        
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter92/p2.png) 
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter92/p3.png) 

**最大类间方差法**      
在对图像进行阈值分割时，选定的分割阈值应使前景区域的平均灰度、背景区域的平均灰度与整幅图像的平均灰度之间差别最大，这种差异用区域的方差来表示。由此，Otsu在1978年提出了最大方差法。该算法在判决分析最小二乘法原理的基础上推导得出，计算过程简单是一种稳定、常用的算法。   
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter92/p4.png)   
让T在[O,L-1]范围内依次取值， 使类间方差最大的T值便是最佳区域分割阈值。               
该方法不需要人为设定其他参数，是一种自动选择阈值的方法，而且能得到较好的结果。它不仅适用于包含两个区域的单阈值选择，也同样适用于多区域的多阈值选择。




