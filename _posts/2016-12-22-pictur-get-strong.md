---
layout: post
title: 空间域图像增强
date: 2016-12-22
categories: blog
tags: [图像处理]
description: 空间域图像增强
---

图像增强是数字图像处理相对简单却最具艺术性的领域之一，增强的目的是消除噪声，
显现那些被模糊了的细节或简单突出一幅图像中我们感兴趣的特征。一个简单例子是增强图
像的对比度， 使其看起来更加一目了然。增强是图像处理中非常主观的领域， 它以怎样构成
好的增强效果这种人为主观偏好为基础， 也正是这一点为其赋予了艺术性。这与图像复原技
术刚好相反， 图像复原也是改进图像外貌的一个处理领域， 但它是客观的。     

**本文主要包括以下内容**     

- 空间域滤波的基础知识
- 相关和卷积
- 图像平滑， 包括平均平滑和高斯平滑
- 中值滤波及其改进算法
- 图像锐化， 包括梯度算子、拉普拉斯算子、高提升滤波和高斯-拉普拉斯变换
- 本章的典型囊例分析
    + 对椒盐噪声的平滑效果比较
    + Laplacian与LoG算子的锐化效果比较


### 图像增强基础     

**为什么要进行图像增强**     
图像增强是指根据特定的需要突出一幅图像中的某些信息， 同时削弱或去除某些不需要
的信息的处理方法。其主要目的是使处理后的图像对某种特定的应用来说， 比原始图像更适
用。因此， 这类处理是为了某种应用目的而去改善图像质量的。处理的结果使图像更适合人
的观察或机器的识别系统。        
应该明确地是增强处理并不能增强原始图像的信息， 其结果只能增强对某种信息的辨别
能力， 而同时这种处理有可能损失一些其他信息。正因如此， 我们很难找到一个评价图像增
强效果优劣的客观标准， 也就没有特别通用模式化的图像增强方法， 这需要我们根据具体期
望的处理效果做出取舍。      

**图像增强的分类**     
图像增强技术基本上可分成两大类: 一类是空间域增强， 另一类是频率域增强。本章着
重介绍空问域增强技术， 下一意讲述频率域图像增强。

空间域图像增强技术主要包括直方图修正、灰度变换增强、图像平滑化以及图像锐化等。
在增强过程中可以采用单一方法处理， 但更多实际情况是需要采用几种方法联合处理， 才能
达到预期的增强效果（某个单一的图像处理方法可以解决全部问题〉。

在第3 章中通过灰度变换改善图像外观的方法， 以及3.7 节和3.8 节中的直方图灰度修
正技术〈即直方图均衡化和直方图规定化〉都是图像增强的有效手段， 它们的共同点在于变
换是直接针对像素灰度值的， 与该像素所处的邻域无关， 而空间域增强则是基于图像中每一
个小范围（邻域〉内的像素进行灰度变换运算， 某个点变换之后的灰度由该点邻域之内的那
些点的灰度值共同决定， 因此空间域增强也称为邻域运算或邻域滤波。空间域变换可使用
下式描述：        
g(x,y)=T[f(x,y)]      

#### 空间域滤波     
滤波是信号处理中的一个概念， 是将信号中特定波段频率滤除的操作， 在数字信号处理
中通常采用傅立叶变换及其逆变换实现。由于下面要学习的内容实际上和通过傅立叶变换实
现的频域下的滤波是等效的， 故而也称为滤波。空间域滤波主要直接基于邻域〈空间域〉对
图像中像素执行计算，我们使用空间域滤波这一术语以区别第6 章中将要讨论的频率域滤波。

**空间域滤波和邻域处理**      
对图像中的每一点（x, y）， 重复下面的操作:     
(1) 对预先定义的以（x, y） 为中心的邻域内的像素进行运算。     
(2）将（2）中运算的结果作为（x, y）点的新响应。       
上述过程就称为邻域处理或空间域滤波。一幅数字图像可以看成一个二维函数为f(x,y)，
而x-y平面表明了空间位置信息， 称为空间域， 基于x-y 空间邻域的滤波操作称作空间域滤
波． 如果邻域中的像素计算为线性运算， 则又称为线性空间域滤波， 否则称为非线性空间域
滤液。     

![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter5/p1.png)
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter5/p2.png)
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter5/p3.png)

**边界处理**     
执行滤波操作需注意当模板位于图像边缘时，需要对边缘附近的那些元素执行滤波操作单独处理，以避免引用到本不属于图像的无意义的值（在Matlab中这将引起系统的警告，而在vc中很可能会由于非法访问内存而产生运行错误〉。      

以下3种策略都可以用来解决边界问题：      
(1）收缩处理范围一处理时忽略位于图像f 边界附近会引起问题的那些点， 如对于
图5.1中所使用的模板， 处理时忽略图像f 四周一圈1个像素宽的边界， 即只处理从x =
1，2 ,3, ... .M-2和y = 1,2,3, .. .N-2 （在Matlab中应为x = 2,3,4, ... ,M-1和y = 2,3,4, ... N-1）范围内
的点， 从而确保了滤被过程中模板始终不会超出图像f 的边界。       
(2）使用常数填充图像一根据模板形状为图像f 虚拟出边界． 虚拟边界像素值为指定
的常数， 如0， 得到虚拟图像f ’。保证模板在移动过程中始终不会超出f ’的边界。       
(3）使用复制像素的方法填充图像,和（2）基本相同， 只是用来填充虚拟边界像素
值的不是固定的常数， 而是复制图像f本身边界的模式．         
这些技巧在本章后面的小节程序设计实例中将给出具体实现。  

**相关和卷积**    
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter5/p4.png)   

**滤波操作的Matlab实现**   
Matlab中与滤披相关的函数主要有imfilter和fspecial. imfilter完成滤波操作，而fspecial
可以为我们创建一些预定义的2维滤波器， 直接供imfilter函数使用．  

滤波函数imfilter    
函数原型如下：   
g =imfilter(f,w,optional1,optional2);    

参数说明          
• f是要进行滤波操作的图像．
• w是滤波操作所使用的模板，为一个二维数组．     
• option 1, option2, ... 是可选项， 具体可以包括：  

(1）边界选项： 主要针对5.2.2 小节中提到的边界处理问题， 如表5.1所示。
采用第一种方式用固定值填充虚拟边界会使边缘附近会产生梯度， 采用后面三种方式填
充可让边缘显得平滑。     
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter5/p5.png) 

```
f = imread('cameraman.tif');
w = [1,1,1;1,1,1;1,1,10]/9;
g = imfilter(f,w,'corr','replicate');
figure;
subplot(1,2,1);
imshow(f),title('原图像');   
subplot(1,2,2);
imshow(g),title('滤波操作');
```
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter5/p6.png) 

**fspecial创建预定义的二维滤波器**     
其调用格式如下     
h = fspecial(type,paramaters)    

参数说明：     
参数type用于指定滤波器的类型，其中一些类型的滤波器将在5.3节和5.4节中介绍，有些则将放到第9章的图像分割中介绍，作为边缘检测的算子.type的一些合法值 如表5.4所示．        
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter5/p7.png) 
![](https://raw.githubusercontent.com/whuhan2013/myImage/master/dataImage/chapter5/p8.png) 

